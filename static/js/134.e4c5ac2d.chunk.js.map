{"version":3,"file":"static/js/134.e4c5ac2d.chunk.js","mappings":"sUAEaA,EAAe,8BAEfC,EAAW,mCAAG,oGACFC,EAAAA,GAAAA,IACrB,4FAFuB,cACnBC,EADmB,yBAIlBA,EAASC,KAAKC,SAJI,2CAAH,qDAOXC,EAAQ,mCAAG,WAAMC,GAAN,uFACCL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,8CADD,cAChBJ,EADgB,yBAKfA,EAASC,MALM,2CAAH,sDAQRI,EAAU,mCAAG,WAAMD,GAAN,uFACDL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,sDADC,cAClBJ,EADkB,yBAKjBA,EAASC,MALQ,2CAAH,sDAQVK,EAAU,mCAAG,WAAMF,GAAN,uFACDL,EAAAA,GAAAA,IAAA,6CACiBK,EADjB,sDADC,cAClBJ,EADkB,yBAKjBA,EAASC,MALQ,2CAAH,sDAQVM,EAAiB,mCAAG,WAAMC,GAAN,uFACRT,EAAAA,GAAAA,IAAA,0DAC8BS,EAD9B,8CADQ,cACzBR,EADyB,yBAKxBA,EAASC,MALe,2CAAH,qD,kHC2C9B,UA1Ee,WAAO,IAAD,EACnB,GAAwCQ,EAAAA,EAAAA,IAAgB,CAAC,GAAzD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAS,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAE/C,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAA4CF,EAAAA,EAAAA,UAAS,IAArD,eAAOG,EAAP,KAAuBC,EAAvB,KAEMC,GAAWC,EAAAA,EAAAA,OAIjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,mCAAG,WAAMd,GAAN,6EACxBU,EADwB,UACAX,EAAAA,EAAAA,IAAkBC,GADlB,6EAAH,sDAInBI,GACFU,EAAkBV,GAAWW,MAAMC,QAAQC,MAE9C,GAAE,CAACb,KAEJS,EAAAA,EAAAA,YAAU,WACJT,GACFI,EAAeJ,EAElB,GAAE,CAACA,IAiBJ,OACE,6BACE,kBAAMc,SAZgB,SAAAC,GACxBA,EAAEC,iBACEb,EAAYc,OACdlB,EAAgB,CAAEmB,MAAOf,KAEzBJ,IACAoB,MAAM,8CAET,EAIG,WACE,kBACEC,KAAK,OACLC,KAAK,QACLC,MAAOnB,EACPoB,SAtBc,SAAAR,GACpB,IAAMS,EAAcT,EAAEU,OAAOH,MAC7BlB,EAAeoB,EAChB,KAqBK,kBAAOJ,KAAK,SAASE,MAAM,cAE5BjB,EAAef,SAA6C,IAAlCe,EAAef,QAAQoC,SAChD,8CAEF,wBACGrB,EAAef,SACde,EAAef,QAAQqC,KAAI,SAAAC,GAAa,OACtC,yBACE,SAAC,KAAD,CACEC,GAAI,WAAaD,EAAcE,GAC/BC,MAAO,CAAEC,KAAMzB,GAFjB,SAIGqB,EAAcK,kBALVL,EAAcE,GADe,QAajD,C","sources":["api.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nexport const imageBaseUrl = 'https://image.tmdb.org/t/p/';\n\nexport const fetchMovies = async () => {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=bf5cf1e2c182dc5f850732c19ce27d26'\n  );\n  return response.data.results;\n};\n\nexport const getMovie = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=bf5cf1e2c182dc5f850732c19ce27d26`\n  );\n\n  return response.data;\n};\n\nexport const getCredits = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=bf5cf1e2c182dc5f850732c19ce27d26`\n  );\n\n  return response.data;\n};\n\nexport const getReviews = async movieId => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=bf5cf1e2c182dc5f850732c19ce27d26`\n  );\n\n  return response.data;\n};\n\nexport const getSearchedMovies = async searchWord => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${searchWord}&api_key=bf5cf1e2c182dc5f850732c19ce27d26`\n  );\n\n  return response.data;\n};\n","import { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport { getSearchedMovies } from '../api';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const movieName = searchParams.get('query') ?? '';\n\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const [searchedMovies, setSearchedMovies] = useState([]);\n\n  const location = useLocation();\n\n  //   const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const getFilteredMovies = async searchWord => {\n      setSearchedMovies(await getSearchedMovies(searchWord));\n    };\n\n    if (movieName) {\n      getFilteredMovies(movieName).catch(console.error);\n    }\n  }, [movieName]);\n\n  useEffect(() => {\n    if (movieName) {\n      setSearchQuery(movieName);\n    }\n  }, [movieName]);\n\n  const onChangeInput = e => {\n    const inputSearch = e.target.value;\n    setSearchQuery(inputSearch);\n  };\n\n  const updateQueryString = e => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      setSearchParams({ query: searchQuery });\n    } else {\n      setSearchParams();\n      alert('The input is empty. Please choose a film. ');\n    }\n  };\n\n  return (\n    <main>\n      <form onSubmit={updateQueryString}>\n        <input\n          type=\"text\"\n          name=\"input\"\n          value={searchQuery}\n          onChange={onChangeInput}\n        />\n        <input type=\"submit\" value=\"Search\" />\n      </form>\n      {searchedMovies.results && searchedMovies.results.length === 0 && (\n        <p>Nothing was found</p>\n      )}\n      <ul>\n        {searchedMovies.results &&\n          searchedMovies.results.map(searchedMovie => (\n            <li key={searchedMovie.id}>\n              <Link\n                to={'/movies/' + searchedMovie.id}\n                state={{ from: location }}\n              >\n                {searchedMovie.original_title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["imageBaseUrl","fetchMovies","axios","response","data","results","getMovie","movieId","getCredits","getReviews","getSearchedMovies","searchWord","useSearchParams","searchParams","setSearchParams","movieName","get","useState","searchQuery","setSearchQuery","searchedMovies","setSearchedMovies","location","useLocation","useEffect","getFilteredMovies","catch","console","error","onSubmit","e","preventDefault","trim","query","alert","type","name","value","onChange","inputSearch","target","length","map","searchedMovie","to","id","state","from","original_title"],"sourceRoot":""}